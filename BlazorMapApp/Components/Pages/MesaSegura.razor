@page "/mesa-segura/{restaurantId:int}/{mesaId:int}/{hash}"
@inject NavigationManager NavigationManager
@inject NavigationStateService NavigationStateService

<h3>Mesa @MesaId</h3>

<div class="container">
    <p>Â¡Bienvenido a la mesa @MesaId!</p>
    
</div>

@code {
    [Parameter]
    public int RestaurantId { get; set; }

    [Parameter]
    public int MesaId { get; set; }

    [Parameter]
    public string Hash { get; set; }
    
    protected override void OnInitialized()
    {
        if (!NavigationStateService.IsAllowedHash(RestaurantId, Hash))
        {
            NavigationManager.NavigateTo("/acceso-denegado");
        }
        
    
        NavigationStateService.Reset(RestaurantId);
    }
}
